<html>
    <head>
        <title>adrn</title>
        <link href='http://fonts.googleapis.com/css?family=Carrois+Gothic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" type="text/css" media="screen" href="css/style.css" />
        <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
        <script type="text/javascript" src="js/galaxy.js"></script>
	
        <script type="text/javascript">    
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-11936482-10']);
            _gaq.push(['_trackPageview']);
            
            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
	
    </head>
    
    <body>
        <header>
            <ul class="menu" id="menu_list">
                <li id="name">Adrian Price-Whelan</li>
                <li><a class='menu_item' href="index.html">Home</a></li>
                <li><a class='menu_item' href="projects.html">Projects</a></li>
                <li><a class='menu_item' href="links.html">Links</a></li>
                <li></li>
                <!--<a class='menu' href="music.html" onmouseover="changePath('cd music');" onmouseout="changePath('');"><u>M</u>usic</a>
                <a class='menu' href="images.html" onmouseover="changePath('cd images');" onmouseout="changePath('');"><u>I</u>mages</a>
                <a class='menu' href="docs/adrian_cv.pdf">CV</a>-->
            </ul>
        </header>
        <hr class="divider" color="#ccc" size=1 />
        <section id="content">
                <img style="float: left;" src="images/SDSS_milky.png" width="200px" class="main">
                <span class="bio">
                    I am a graduate student at Columbia University's <a href="http://www.astro.columbia.edu/" onmouseover="changePath('open http://www.astro.columbia.edu/');" onmouseout="changePath('');">Department of Astronomy</a>. 
                    Before that, I worked for the Sloan Digital Sky Survey (<a href="http://sdss3.org" onmouseover="changePath('open http://sdss3.org');" onmouseout="changePath('');">SDSS</a>) at NYU, and earned an Honors B.A. in Physics from <a href="http://nyu.edu" onmouseover="changePath('open http://nyu.edu');" onmouseout="changePath('');">NYU</a>. 
                    When I'm not doing <a href="science.html" onmouseover="changePath('cd science');" onmouseout="changePath('');">research</a> or writing <a href="code.html" onmouseover="changePath('cd code');" onmouseout="changePath('');">code</a>, I'm probably playing <a href="music.html" onmouseover="changePath('cd music');" onmouseout="changePath('');">music</a>, riding my bike, or cooking.</div>
                </span>

            <!-- Twitter -->
            <!--<a href="http://twitter.com/astrodrian" class="twitter-follow-button" data-button="grey" data-text-color="#FFFFFF" data-link-color="#00AEFF" data-show-count="false">@astrodrian on Twitter</a>-->
            
            <!-- Facebook -->
            <!--<a href="https://www.facebook.com/adrianpw" target="_TOP" title="Adrian Price-Whelan">Adrian Price-Whelan on Facebook</a>-->

        </section>
        
        <footer style="font-size:10pt; bottom: 0px;">
            Graduate Student<br/>
            Department of Astronomy and Astrophysics<br/>
            Columbia University<br/>
            New York, NY 10027 USA<br/>
        </footer>
        <canvas id="bgcanvas"></canvas>
    </body>
    
    <script type="text/javascript">
        (function() {
            var pi = 3.1415926;
            var Nstars = 2000;
            
            var canvas = document.getElementById('bgcanvas'),
                context = canvas.getContext('2d');
            
            // resize the canvas to fill browser window dynamically
            //window.addEventListener('resize', resizeCanvas, false);
            
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            // Create a new Galaxy in the center of the screen
            var galaxy = new Galaxy(canvas.width/2., canvas.height/2., window.innerWidth/4.);
            
            // Create an array of random initial positions and velocities for N particles (stars)
            var init_pos = new Array(),
                init_vel = new Array();
            
            // Put in a disk
            var gg = 0;
            while (gg < Nstars) {
                // choose stars to start with random radii around the center
                init_r = Math.random()*galaxy.size + galaxy.size/5.;
                //init_r = galaxy.size;
                init_phi = Math.random()*2.*pi;
                
                init_pos.push(galaxy.rphi_to_xy(init_r, init_phi));
                
                var mag_v = 1.4,
                    vx = -mag_v * Math.sin(init_phi),
                    vy = mag_v * Math.cos(init_phi);
                init_vel.push([vx, vy]);
                gg++;
            }
            
            // Put in a bulge!
            var gg = 0;
            while (gg < Nstars/2) {
                // choose stars to start with random radii around the center
                init_r = Math.random()*galaxy.size/4.;
                init_phi = Math.random()*2.*pi;
                
                init_pos.push(galaxy.rphi_to_xy(init_r, init_phi));
                
                var vx = Math.sqrt(2.*Math.random()) - 1.,
                    vy = Math.sqrt(2.*Math.random()) - 1.;

                init_vel.push([vx, vy]);
                gg++;
            }
            
            var pos = init_pos,
                vel = init_vel;
            
            draw(init_pos, init_vel);
            
            function draw(pos, vel) {
                context.clearRect(0,0, canvas.width, canvas.height);
                // Draw the galaxy center as a red circle
                context.beginPath();
                context.fillStyle="#ff0000";
                context.arc(galaxy.x0, galaxy.y0, 5, 0,Math.PI*2,true);
                context.closePath();
                context.fill();
                
                for (var ii=0; ii < pos.length; ii++) {
                    context.beginPath();
                    context.fillStyle="#0000ff";
                    context.arc(pos[ii][0],pos[ii][1], 2, 0,Math.PI*2,true);
                    context.closePath();
                    context.fill();
                }
            }
            
            function update() {
                pos_vel = leapfrog_update(galaxy, pos, vel, dt=1.);
                pos = pos_vel[0];
                vel = pos_vel[1];
                draw(pos, vel);
            }
            
            //update();
            //update();
            setInterval(update, 10);
            
        })();
    </script>
</html>
